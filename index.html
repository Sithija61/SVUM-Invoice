<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SVUM Invoice Generator</title>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

<style>
body{font-family:Inter,Segoe UI,sans-serif;background:#0a0a0a;color:#fff;padding:15px}
.app{max-width:480px;margin:auto;background:#111;border-radius:20px;overflow:hidden}
.header{background:linear-gradient(135deg,#C9A24D,#E5C77A);padding:25px;text-align:center;color:#000}
.logo{width:90px;height:90px;border-radius:50%;overflow:hidden;margin:auto;border:3px solid #fff}
.logo img{width:100%;height:100%;object-fit:cover}
.form{padding:20px}
label{font-size:13px;color:#E5C77A}
input,select{width:100%;padding:12px;margin:6px 0 15px;border-radius:10px;border:none}
button{width:100%;padding:14px;border:none;border-radius:12px;font-weight:700;margin-top:10px}
.add{background:#222;color:#E5C77A;border:1px solid #C9A24D}
.gen{background:linear-gradient(135deg,#C9A24D,#E5C77A);color:#000}
.invoice{display:none;background:#fff;color:#000;margin:15px;border-radius:15px;padding:20px}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border-bottom:1px solid #ddd;padding:8px;font-size:13px}
.actions{display:none;padding:15px;gap:10px}
.share{background:#25D366;color:#fff}
.download{background:#000;color:#C9A24D;border:1px solid #C9A24D}
</style>
</head>

<body>

<div class="app">
<div class="header">
<div class="logo"><img src="SVUM Fashion House Logo.png"></div>
<h2>SVUM Fashion House</h2>
<span>Invoice Generator</span>
</div>

<div class="form">
<label>Customer Name</label>
<input id="customer">

<label>Date</label>
<input type="date" id="date">

<label>Payment Method</label>
<select id="payment">
<option>Cash</option>
<option>Bank Payment</option>
<option>Cash on Delivery</option>
</select>

<label>Item</label>
<input id="item">

<label>Qty</label>
<input type="number" id="qty" value="1">

<label>Price</label>
<input type="number" id="price">

<button class="gen" onclick="generate()">Generate Invoice</button>
</div>

<div class="invoice" id="invoice">
<h3>Invoice</h3>
<p><b>Customer:</b> <span id="iCustomer"></span></p>
<p><b>Date:</b> <span id="iDate"></span></p>
<p><b>Payment:</b> <span id="iPay"></span></p>

<table>
<tr><th>Item</th><th>Qty</th><th>Price</th><th>Total</th></tr>
<tr>
<td id="iItem"></td>
<td id="iQty"></td>
<td id="iPrice"></td>
<td id="iTotal"></td>
</tr>
</table>

<h3>Total: Rs <span id="grand"></span></h3>
</div>

<div class="actions" id="actions">
<button class="share" onclick="sharePDF()">ðŸ“¤ Share PDF</button>
<button class="download" onclick="downloadPDF()">ðŸ“¥ Download PDF</button>
</div>

</div>

<script>
date.valueAsDate=new Date();

function generate(){
if(!customer.value){alert("Enter customer name");return;}
iCustomer.innerText=customer.value;
iDate.innerText=date.value;
iPay.innerText=payment.value;
iItem.innerText=item.value;
iQty.innerText=qty.value;
iPrice.innerText=price.value;
iTotal.innerText=(qty.value*price.value).toFixed(2);
grand.innerText=iTotal.innerText;

invoice.style.display="block";
actions.style.display="grid";
}

async function createPDF(){
const {jsPDF}=window.jspdf;
const pdf=new jsPDF();
const canvas=await html2canvas(invoice,{scale:2});
const img=canvas.toDataURL("image/png");
pdf.addImage(img,"PNG",10,10,190,(canvas.height*190)/canvas.width);
return pdf;
}

async function downloadPDF(){
const pdf=await createPDF();
pdf.save(`SVUM-Invoice-${Date.now()}.pdf`);
}

async function sharePDF(){
const pdf=await createPDF();
const blob=pdf.output("blob");
const file=new File([blob],"SVUM-Invoice.pdf",{type:"application/pdf"});

if(navigator.canShare && navigator.canShare({files:[file]})){
await navigator.share({
title:"SVUM Invoice",
text:"Invoice from SVUM Fashion House",
files:[file]
});
}else{
downloadPDF();
alert("Sharing not supported. PDF downloaded instead.");
}
}
</script>

</body>
</html>
